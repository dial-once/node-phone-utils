machine:
  node:
    version: 5.6.0
  environment:
      ENABLE_HLR_LOOKUPS: false
      HLR_LOOKUPS_USERNAME: testUname
      HLR_LOOKUPS_PASSWORD: testPwd
      SMSAPI_USERNAME: testUname
      SMSAPI_HASHED_PASSWORD: testHashPwd
general:
  branches:
    only:
      - master # list of branches to build
      - /feature-.*/ # or regexes

test:
  pre:
    - npm install mocha-junit-reporter
  override:
    - mkdir -p $CIRCLE_TEST_REPORTS/unit
    - ./node_modules/mocha/bin/mocha tests --recursive --timeout=5000 --reporter mocha-junit-reporter > $CIRCLE_TEST_REPORTS/unit/unit-test-results.xml